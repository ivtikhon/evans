---
domain: EC2
  # Here we define classes, or types of objects
  # and dependencies that exists on the class level
  classes:
    - instance:
        states:
          - created
          - running
          - terminated
    - volume:
        states:
          - created:
              requires:
                - classes['instance'].states['created']
              method:
                create(self, instance)
          - attached:
              requires:
                - self.states['created']
                - instance.state['created']
              method:
                attach(self, instance)
    - filesystem:
        state:
          - created
          - mounted
  # List of actions applicable to the classes above
  methods:
    - create-instance:
    - create-volume:
    - create-filesystem:
 # Here we define object and their dependencies
  objects:
    - inst1
